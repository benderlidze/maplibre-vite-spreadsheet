const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/maplibre-gl-DjDYEaHZ.js","assets/index-vEIXQwmM.js","assets/index-BSTGOWiF.css"])))=>i.map(i=>d[i]);
import{r as d,_ as Pe,a as De,g as ze}from"./index-vEIXQwmM.js";const Fe=d.createContext(null);function Ue(e,t){const r=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0,a=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0;return r===a&&o===s}function J(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!J(e[r],t[r]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const a of r)if(!t.hasOwnProperty(a)||!J(e[a],t[a]))return!1;return!0}return!1}function be(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function Re(e,t){const r=t.viewState||t,o={};if("longitude"in r&&"latitude"in r&&(r.longitude!==e.center.lng||r.latitude!==e.center.lat)){const a=e.center.constructor;o.center=new a(r.longitude,r.latitude)}return"zoom"in r&&r.zoom!==e.zoom&&(o.zoom=r.zoom),"bearing"in r&&r.bearing!==e.bearing&&(o.bearing=r.bearing),"pitch"in r&&r.pitch!==e.pitch&&(o.pitch=r.pitch),r.padding&&e.padding&&!J(r.padding,e.padding)&&(o.padding=r.padding),o}const je=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Le(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const o of e.layers)t[o.id]=o;const r=e.layers.map(o=>{let a=null;"interactive"in o&&(a=Object.assign({},o),delete a.interactive);const s=t[o.ref];if(s){a=a||Object.assign({},o),delete a.ref;for(const u of je)u in s&&(a[u]=s[u])}return a||o});return{...e,layers:r}}const xe={version:8,sources:{},layers:[]},Me={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},Oe={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},Te={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Ne=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],qe=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class ge{constructor(t,r,o){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=a=>{const s=this.props[Te[a.type]];s?s(a):a.type==="error"&&console.error(a.error)},this._onCameraEvent=a=>{if(this._internalUpdate)return;a.viewState=this._propsedCameraUpdate||be(this._map.transform);const s=this.props[Oe[a.type]];s&&s(a)},this._onCameraUpdate=a=>this._internalUpdate?a:(this._propsedCameraUpdate=be(a),Re(a,this.props)),this._onPointerEvent=a=>{(a.type==="mousemove"||a.type==="mouseout")&&this._updateHover(a);const s=this.props[Me[a.type]];s&&(this.props.interactiveLayerIds&&a.type!=="mouseover"&&a.type!=="mouseout"&&(a.features=this._hoveredFeatures||this._queryRenderedFeatures(a.point)),s(a),delete a.features)},this._MapClass=t,this.props=r,this._initialize(o)}get map(){return this._map}setProps(t){const r=this.props;this.props=t;const o=this._updateSettings(t,r),a=this._updateSize(t),s=this._updateViewState(t);this._updateStyle(t,r),this._updateStyleComponents(t),this._updateHandlers(t,r),(o||a||s&&!this._map.isMoving())&&this.redraw()}static reuse(t,r){const o=ge.savedMaps.pop();if(!o)return null;const a=o.map,s=a.getContainer();for(r.className=s.className;s.childNodes.length>0;)r.appendChild(s.childNodes[0]);a._container=r;const u=a._resizeObserver;u&&(u.disconnect(),u.observe(r)),o.setProps({...t,styleDiffing:!1}),a.resize();const{initialViewState:f}=t;return f&&(f.bounds?a.fitBounds(f.bounds,{...f.fitBoundsOptions,duration:0}):o._updateViewState(f)),a.isStyleLoaded()?a.fire("load"):a.once("style.load",()=>a.fire("load")),a._update(),o}_initialize(t){const{props:r}=this,{mapStyle:o=xe}=r,a={...r,...r.initialViewState,container:t,style:Le(o)},s=a.initialViewState||a.viewState||a;if(Object.assign(a,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),r.gl){const f=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=f,r.gl)}const u=new this._MapClass(a);s.padding&&u.setPadding(s.padding),r.cursor&&(u.getCanvas().style.cursor=r.cursor),u.transformCameraUpdate=this._onCameraUpdate,u.on("style.load",()=>{var f;this._styleComponents={light:u.getLight(),sky:u.getSky(),projection:(f=u.getProjection)==null?void 0:f.call(u),terrain:u.getTerrain()},this._updateStyleComponents(this.props)}),u.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const f in Me)u.on(f,this._onPointerEvent);for(const f in Oe)u.on(f,this._onCameraEvent);for(const f in Te)u.on(f,this._onEvent);this._map=u}recycle(){const r=this.map.getContainer().querySelector("[mapboxgl-children]");r==null||r.remove(),ge.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_updateSize(t){const{viewState:r}=t;if(r){const o=this._map;if(r.width!==o.transform.width||r.height!==o.transform.height)return o.resize(),!0}return!1}_updateViewState(t){const r=this._map,o=r.transform;if(!r.isMoving()){const s=Re(o,t);if(Object.keys(s).length>0)return this._internalUpdate=!0,r.jumpTo(s),this._internalUpdate=!1,!0}return!1}_updateSettings(t,r){const o=this._map;let a=!1;for(const s of Ne)if(s in t&&!J(t[s],r[s])){a=!0;const u=o[`set${s[0].toUpperCase()}${s.slice(1)}`];u==null||u.call(o,t[s])}return a}_updateStyle(t,r){if(t.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==r.mapStyle){const{mapStyle:o=xe,styleDiffing:a=!0}=t,s={diff:a};"localIdeographFontFamily"in t&&(s.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(Le(o),s)}}_updateStyleComponents({light:t,projection:r,sky:o,terrain:a}){var f,g;const s=this._map,u=this._styleComponents;s.style._loaded&&(t&&!J(t,u.light)&&(u.light=t,s.setLight(t)),r&&!J(r,u.projection)&&r!==((f=u.projection)==null?void 0:f.type)&&(u.projection=typeof r=="string"?{type:r}:r,(g=s.setProjection)==null||g.call(s,u.projection)),o&&!J(o,u.sky)&&(u.sky=o,s.setSky(o)),a!==void 0&&!J(a,u.terrain)&&(!a||s.getSource(a.source))&&(u.terrain=a,s.setTerrain(a)))}_updateHandlers(t,r){const o=this._map;for(const a of qe){const s=t[a]??!0,u=r[a]??!0;J(s,u)||(s?o[a].enable(s):o[a].disable())}}_queryRenderedFeatures(t){const r=this._map,{interactiveLayerIds:o=[]}=this.props;try{return r.queryRenderedFeatures(t,{layers:o.filter(r.getLayer.bind(r))})}catch{return[]}}_updateHover(t){var a;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const s=t.type,u=((a=this._hoveredFeatures)==null?void 0:a.length)>0,f=this._queryRenderedFeatures(t.point),g=f.length>0;!g&&u&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=f,g&&!u&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=s}else this._hoveredFeatures=null}}ge.savedMaps=[];const He=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function We(e){if(!e)return null;const t=e.map,r={getMap:()=>t};for(const o of Be(t))!(o in r)&&!He.includes(o)&&(r[o]=t[o].bind(t));return r}function Be(e){const t=new Set;let r=e;for(;r;){for(const o of Object.getOwnPropertyNames(r))o[0]!=="_"&&typeof e[o]=="function"&&o!=="fire"&&o!=="setEventedParent"&&t.add(o);r=Object.getPrototypeOf(r)}return Array.from(t)}const Ze=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Ke(e,t){const{RTLTextPlugin:r,maxParallelImageRequests:o,workerCount:a,workerUrl:s}=t;if(r&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:u,lazy:f=!0}=typeof r=="string"?{pluginUrl:r}:r;e.setRTLTextPlugin(u,g=>{g&&console.error(g)},f)}o!==void 0&&e.setMaxParallelImageRequests(o),a!==void 0&&e.setWorkerCount(a),s!==void 0&&e.setWorkerUrl(s)}const me=d.createContext(null);function Ve(e,t){const r=d.useContext(Fe),[o,a]=d.useState(null),s=d.useRef(),{current:u}=d.useRef({mapLib:null,map:null});d.useEffect(()=>{const c=e.mapLib;let x=!0,k;return Promise.resolve(c||Pe(()=>import("./maplibre-gl-DjDYEaHZ.js").then(H=>H.m),__vite__mapDeps([0,1,2]))).then(H=>{if(!x)return;if(!H)throw new Error("Invalid mapLib");const N="Map"in H?H:H.default;if(!N.Map)throw new Error("Invalid mapLib");if(Ke(N,e),!N.supported||N.supported(e))e.reuseMaps&&(k=ge.reuse(e,s.current)),k||(k=new ge(N.Map,e,s.current)),u.map=We(k),u.mapLib=N,a(k),r==null||r.onMapMount(u.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(H=>{const{onError:N}=e;N?N({type:"error",target:null,originalEvent:null,error:H}):console.error(H)}),()=>{x=!1,k&&(r==null||r.onMapUnmount(e.id),e.reuseMaps?k.recycle():k.destroy())}},[]),Ze(()=>{o&&o.setProps(e)}),d.useImperativeHandle(t,()=>u.map,[o]);const f=d.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),g={height:"100%"};return d.createElement("div",{id:e.id,ref:s,style:f},o&&d.createElement(me.Provider,{value:u},d.createElement("div",{"mapboxgl-children":"",style:g},e.children)))}const ht=d.forwardRef(Ve),$e=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function ae(e,t){if(!e||!t)return;const r=e.style;for(const o in t){const a=t[o];Number.isFinite(a)&&!$e.test(o)?r[o]=`${a}px`:r[o]=a}}d.memo(d.forwardRef((e,t)=>{const{map:r,mapLib:o}=d.useContext(me),a=d.useRef({props:e});a.current.props=e;const s=d.useMemo(()=>{let ye=!1;d.Children.forEach(e.children,te=>{te&&(ye=!0)});const fe={...e,element:ye?document.createElement("div"):null},ee=new o.Marker(fe);return ee.setLngLat([e.longitude,e.latitude]),ee.getElement().addEventListener("click",te=>{var K,V;(V=(K=a.current.props).onClick)==null||V.call(K,{type:"click",target:ee,originalEvent:te})}),ee.on("dragstart",te=>{var V,Q;const K=te;K.lngLat=s.getLngLat(),(Q=(V=a.current.props).onDragStart)==null||Q.call(V,K)}),ee.on("drag",te=>{var V,Q;const K=te;K.lngLat=s.getLngLat(),(Q=(V=a.current.props).onDrag)==null||Q.call(V,K)}),ee.on("dragend",te=>{var V,Q;const K=te;K.lngLat=s.getLngLat(),(Q=(V=a.current.props).onDragEnd)==null||Q.call(V,K)}),ee},[]);d.useEffect(()=>(s.addTo(r.getMap()),()=>{s.remove()}),[]);const{longitude:u,latitude:f,offset:g,style:c,draggable:x=!1,popup:k=null,rotation:H=0,rotationAlignment:N="auto",pitchAlignment:ce="auto"}=e;return d.useEffect(()=>{ae(s.getElement(),c)},[c]),d.useImperativeHandle(t,()=>s,[]),(s.getLngLat().lng!==u||s.getLngLat().lat!==f)&&s.setLngLat([u,f]),g&&!Ue(s.getOffset(),g)&&s.setOffset(g),s.isDraggable()!==x&&s.setDraggable(x),s.getRotation()!==H&&s.setRotation(H),s.getRotationAlignment()!==N&&s.setRotationAlignment(N),s.getPitchAlignment()!==ce&&s.setPitchAlignment(ce),s.getPopup()!==k&&s.setPopup(k),De.createPortal(e.children,s.getElement())}));function Ie(e){return new Set(e?e.trim().split(/\s+/):[])}const pt=d.memo(d.forwardRef((e,t)=>{const{map:r,mapLib:o}=d.useContext(me),a=d.useMemo(()=>document.createElement("div"),[]),s=d.useRef({props:e});s.current.props=e;const u=d.useMemo(()=>{const f={...e},g=new o.Popup(f);return g.setLngLat([e.longitude,e.latitude]),g.once("open",c=>{var x,k;(k=(x=s.current.props).onOpen)==null||k.call(x,c)}),g},[]);if(d.useEffect(()=>{const f=g=>{var c,x;(x=(c=s.current.props).onClose)==null||x.call(c,g)};return u.on("close",f),u.setDOMContent(a).addTo(r.getMap()),()=>{u.off("close",f),u.isOpen()&&u.remove()}},[]),d.useEffect(()=>{ae(u.getElement(),e.style)},[e.style]),d.useImperativeHandle(t,()=>u,[]),u.isOpen()&&((u.getLngLat().lng!==e.longitude||u.getLngLat().lat!==e.latitude)&&u.setLngLat([e.longitude,e.latitude]),e.offset&&!J(u.options.offset,e.offset)&&u.setOffset(e.offset),(u.options.anchor!==e.anchor||u.options.maxWidth!==e.maxWidth)&&(u.options.anchor=e.anchor,u.setMaxWidth(e.maxWidth)),u.options.className!==e.className)){const f=Ie(u.options.className),g=Ie(e.className);for(const c of f)g.has(c)||u.removeClassName(c);for(const c of g)f.has(c)||u.addClassName(c);u.options.className=e.className}return De.createPortal(e.children,a)}));function de(e,t,r,o){const a=d.useContext(me),s=d.useMemo(()=>e(a),[]);return d.useEffect(()=>{const u=t,f=null,g=typeof t=="function"?t:null,{map:c}=a;return c.hasControl(s)||(c.addControl(s,u==null?void 0:u.position),f&&f(a)),()=>{g&&g(a),c.hasControl(s)&&c.removeControl(s)}},[]),s}function Je(e){const t=de(({mapLib:r})=>new r.AttributionControl(e),{position:e.position});return d.useEffect(()=>{ae(t._container,e.style)},[e.style]),null}d.memo(Je);function Qe(e){const t=de(({mapLib:r})=>new r.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return d.useEffect(()=>{ae(t._controlContainer,e.style)},[e.style]),null}d.memo(Qe);function Ge(e,t){const r=d.useRef({props:e}),o=de(({mapLib:a})=>{const s=new a.GeolocateControl(e),u=s._setupUI;return s._setupUI=()=>{s._container.hasChildNodes()||u()},s.on("geolocate",f=>{var g,c;(c=(g=r.current.props).onGeolocate)==null||c.call(g,f)}),s.on("error",f=>{var g,c;(c=(g=r.current.props).onError)==null||c.call(g,f)}),s.on("outofmaxbounds",f=>{var g,c;(c=(g=r.current.props).onOutOfMaxBounds)==null||c.call(g,f)}),s.on("trackuserlocationstart",f=>{var g,c;(c=(g=r.current.props).onTrackUserLocationStart)==null||c.call(g,f)}),s.on("trackuserlocationend",f=>{var g,c;(c=(g=r.current.props).onTrackUserLocationEnd)==null||c.call(g,f)}),s},{position:e.position});return r.current.props=e,d.useImperativeHandle(t,()=>o,[]),d.useEffect(()=>{ae(o._container,e.style)},[e.style]),null}d.memo(d.forwardRef(Ge));function Ye(e){const t=de(({mapLib:r})=>new r.NavigationControl(e),{position:e.position});return d.useEffect(()=>{ae(t._container,e.style)},[e.style]),null}const gt=d.memo(Ye);function Xe(e){const t=de(({mapLib:s})=>new s.ScaleControl(e),{position:e.position}),r=d.useRef(e),o=r.current;r.current=e;const{style:a}=e;return e.maxWidth!==void 0&&e.maxWidth!==o.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==o.unit&&t.setUnit(e.unit),d.useEffect(()=>{ae(t._container,a)},[a]),null}d.memo(Xe);function et(e){const t=de(({mapLib:r})=>new r.TerrainControl(e),{position:e.position});return d.useEffect(()=>{ae(t._container,e.style)},[e.style]),null}d.memo(et);function tt(e){const t=de(({mapLib:r})=>new r.LogoControl(e),{position:e.position});return d.useEffect(()=>{ae(t._container,e.style)},[e.style]),null}d.memo(tt);function Ce(e,t){if(!e)throw new Error(t)}let nt=0;function rt(e,t,r){if(e.style&&e.style._loaded){const o={...r};return delete o.id,delete o.children,e.addSource(t,o),e.getSource(t)}return null}function it(e,t,r){var u,f,g;Ce(t.id===r.id,"source id changed"),Ce(t.type===r.type,"source type changed");let o="",a=0;for(const c in t)c!=="children"&&c!=="id"&&!J(r[c],t[c])&&(o=c,a++);if(!a)return;const s=t.type;if(s==="geojson")e.setData(t.data);else if(s==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else switch(o){case"coordinates":(u=e.setCoordinates)==null||u.call(e,t.coordinates);break;case"url":(f=e.setUrl)==null||f.call(e,t.url);break;case"tiles":(g=e.setTiles)==null||g.call(e,t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${o}`)}}function mt(e){const t=d.useContext(me).map.getMap(),r=d.useRef(e),[,o]=d.useState(0),a=d.useMemo(()=>e.id||`jsx-source-${nt++}`,[]);d.useEffect(()=>{if(t){const u=()=>setTimeout(()=>o(f=>f+1),0);return t.on("styledata",u),u(),()=>{var f;if(t.off("styledata",u),t.style&&t.style._loaded&&t.getSource(a)){const g=(f=t.getStyle())==null?void 0:f.layers;if(g)for(const c of g)c.source===a&&t.removeLayer(c.id);t.removeSource(a)}}}},[t]);let s=t&&t.style&&t.getSource(a);return s?it(s,e,r.current):s=rt(t,a,e),r.current=e,s&&d.Children.map(e.children,u=>u&&d.cloneElement(u,{source:a}))||null}function ot(e,t,r,o){if(Ce(r.id===o.id,"layer id changed"),Ce(r.type===o.type,"layer type changed"),r.type==="custom"||o.type==="custom")return;const{layout:a={},paint:s={},filter:u,minzoom:f,maxzoom:g,beforeId:c}=r;if(c!==o.beforeId&&e.moveLayer(t,c),a!==o.layout){const x=o.layout||{};for(const k in a)J(a[k],x[k])||e.setLayoutProperty(t,k,a[k]);for(const k in x)a.hasOwnProperty(k)||e.setLayoutProperty(t,k,void 0)}if(s!==o.paint){const x=o.paint||{};for(const k in s)J(s[k],x[k])||e.setPaintProperty(t,k,s[k]);for(const k in x)s.hasOwnProperty(k)||e.setPaintProperty(t,k,void 0)}J(u,o.filter)||e.setFilter(t,u),(f!==o.minzoom||g!==o.maxzoom)&&e.setLayerZoomRange(t,f,g)}function st(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){const o={...r,id:t};delete o.beforeId,e.addLayer(o,r.beforeId)}}let at=0;function yt(e){const t=d.useContext(me).map.getMap(),r=d.useRef(e),[,o]=d.useState(0),a=d.useMemo(()=>e.id||`jsx-layer-${at++}`,[]);if(d.useEffect(()=>{if(t){const u=()=>o(f=>f+1);return t.on("styledata",u),u(),()=>{t.off("styledata",u),t.style&&t.style._loaded&&t.getLayer(a)&&t.removeLayer(a)}}},[t]),t&&t.style&&t.getLayer(a))try{ot(t,a,e,r.current)}catch(u){console.warn(u)}else st(t,a,e);return r.current=e,null}const _t={Dark:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",Light:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",Voyager:"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",Contrast:"https://demotiles.maplibre.org/style.json"};var Ee={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var ut=Ee.exports,Ae;function lt(){return Ae||(Ae=1,function(e,t){((r,o)=>{e.exports=o()})(ut,function r(){var o=typeof self<"u"?self:typeof window<"u"?window:o!==void 0?o:{},a,s=!o.document&&!!o.postMessage,u=o.IS_PAPA_WORKER||!1,f={},g=0,c={};function x(n){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(i){var l=Q(i);l.chunkSize=parseInt(l.chunkSize),i.step||i.chunk||(l.chunkSize=null),this._handle=new ye(l),(this._handle.streamer=this)._config=l}).call(this,n),this.parseChunk=function(i,l){var p=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<p){let C=this._config.newline;C||(h=this._config.quoteChar||'"',C=this._handle.guessLineEndings(i,h)),i=[...i.split(C).slice(p)].join(C)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(h=this._config.beforeFirstChunk(i))!==void 0&&(i=h),this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+i,h=(this._partialLine="",this._handle.parse(p,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(i=h.meta.cursor,p=(this._finished||(this._partialLine=p.substring(i-this._baseIndex),this._baseIndex=i),h&&h.data&&(this._rowCount+=h.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)o.postMessage({results:h,workerId:c.WORKER_ID,finished:p});else if(O(this._config.chunk)&&!l){if(this._config.chunk(h,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=h=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(h.data),this._completeResults.errors=this._completeResults.errors.concat(h.errors),this._completeResults.meta=h.meta),this._completed||!p||!O(this._config.complete)||h&&h.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),p||h&&h.meta.paused||this._nextChunk(),h}this._halted=!0},this._sendError=function(i){O(this._config.error)?this._config.error(i):u&&this._config.error&&o.postMessage({workerId:c.WORKER_ID,error:i,finished:!1})}}function k(n){var i;(n=n||{}).chunkSize||(n.chunkSize=c.RemoteChunkSize),x.call(this,n),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(l){this._input=l,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),s||(i.onload=ue(this._chunkLoaded,this),i.onerror=ue(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var l,p=this._config.downloadRequestHeaders;for(l in p)i.setRequestHeader(l,p[l])}var h;this._config.chunkSize&&(h=this._start+this._config.chunkSize-1,i.setRequestHeader("Range","bytes="+this._start+"-"+h));try{i.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}s&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize||i.responseText.length,this._finished=!this._config.chunkSize||this._start>=(l=>(l=l.getResponseHeader("Content-Range"))!==null?parseInt(l.substring(l.lastIndexOf("/")+1)):-1)(i),this.parseChunk(i.responseText)))},this._chunkError=function(l){l=i.statusText||l,this._sendError(new Error(l))}}function H(n){(n=n||{}).chunkSize||(n.chunkSize=c.LocalChunkSize),x.call(this,n);var i,l,p=typeof FileReader<"u";this.stream=function(h){this._input=h,l=h.slice||h.webkitSlice||h.mozSlice,p?((i=new FileReader).onload=ue(this._chunkLoaded,this),i.onerror=ue(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var h=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),h=l.call(h,this._start,C)),i.readAsText(h,this._config.encoding));p||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(h){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(h.target.result)},this._chunkError=function(){this._sendError(i.error)}}function N(n){var i;x.call(this,n=n||{}),this.stream=function(l){return i=l,this._nextChunk()},this._nextChunk=function(){var l,p;if(!this._finished)return l=this._config.chunkSize,i=l?(p=i.substring(0,l),i.substring(l)):(p=i,""),this._finished=!i,this.parseChunk(p)}}function ce(n){x.call(this,n=n||{});var i=[],l=!0,p=!1;this.pause=function(){x.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){x.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(h){this._input=h,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){p&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):l=!0},this._streamData=ue(function(h){try{i.push(typeof h=="string"?h:h.toString(this._config.encoding)),l&&(l=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(C){this._streamError(C)}},this),this._streamError=ue(function(h){this._streamCleanUp(),this._sendError(h)},this),this._streamEnd=ue(function(){this._streamCleanUp(),p=!0,this._streamData("")},this),this._streamCleanUp=ue(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ye(n){var i,l,p,h,C=Math.pow(2,53),F=-C,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,w=this,A=0,y=0,B=!1,v=!1,S=[],m={data:[],errors:[],meta:{}};function U(b){return n.skipEmptyLines==="greedy"?b.join("").trim()==="":b.length===1&&b[0].length===0}function z(){if(m&&p&&(X("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),p=!1),n.skipEmptyLines&&(m.data=m.data.filter(function(_){return!U(_)})),W()){let _=function(P,j){O(n.transformHeader)&&(P=n.transformHeader(P,j)),S.push(P)};if(m)if(Array.isArray(m.data[0])){for(var b=0;W()&&b<m.data.length;b++)m.data[b].forEach(_);m.data.splice(0,1)}else m.data.forEach(_)}function L(_,P){for(var j=n.header?{}:[],M=0;M<_.length;M++){var T=M,R=_[M],R=((ne,E)=>(I=>(n.dynamicTypingFunction&&n.dynamicTyping[I]===void 0&&(n.dynamicTyping[I]=n.dynamicTypingFunction(I)),(n.dynamicTyping[I]||n.dynamicTyping)===!0))(ne)?E==="true"||E==="TRUE"||E!=="false"&&E!=="FALSE"&&((I=>{if(G.test(I)&&(I=parseFloat(I),F<I&&I<C))return 1})(E)?parseFloat(E):Y.test(E)?new Date(E):E===""?null:E):E)(T=n.header?M>=S.length?"__parsed_extra":S[M]:T,R=n.transform?n.transform(R,T):R);T==="__parsed_extra"?(j[T]=j[T]||[],j[T].push(R)):j[T]=R}return n.header&&(M>S.length?X("FieldMismatch","TooManyFields","Too many fields: expected "+S.length+" fields but parsed "+M,y+P):M<S.length&&X("FieldMismatch","TooFewFields","Too few fields: expected "+S.length+" fields but parsed "+M,y+P)),j}var D;m&&(n.header||n.dynamicTyping||n.transform)&&(D=1,!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(L),D=m.data.length):m.data=L(m.data,0),n.header&&m.meta&&(m.meta.fields=S),y+=D)}function W(){return n.header&&S.length===0}function X(b,L,D,_){b={type:b,code:L,message:D},_!==void 0&&(b.row=_),m.errors.push(b)}O(n.step)&&(h=n.step,n.step=function(b){m=b,W()?z():(z(),m.data.length!==0&&(A+=b.data.length,n.preview&&A>n.preview?l.abort():(m.data=m.data[0],h(m,w))))}),this.parse=function(b,L,D){var _=n.quoteChar||'"',_=(n.newline||(n.newline=this.guessLineEndings(b,_)),p=!1,n.delimiter?O(n.delimiter)&&(n.delimiter=n.delimiter(b),m.meta.delimiter=n.delimiter):((_=((P,j,M,T,R)=>{var ne,E,I,le;R=R||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var he=0;he<R.length;he++){for(var re,_e=R[he],Z=0,ie=0,q=0,$=(I=void 0,new ee({comments:T,delimiter:_e,newline:j,preview:10}).parse(P)),se=0;se<$.data.length;se++)M&&U($.data[se])?q++:(re=$.data[se].length,ie+=re,I===void 0?I=re:0<re&&(Z+=Math.abs(re-I),I=re));0<$.data.length&&(ie/=$.data.length-q),(E===void 0||Z<=E)&&(le===void 0||le<ie)&&1.99<ie&&(E=Z,ne=_e,le=ie)}return{successful:!!(n.delimiter=ne),bestDelimiter:ne}})(b,n.newline,n.skipEmptyLines,n.comments,n.delimitersToGuess)).successful?n.delimiter=_.bestDelimiter:(p=!0,n.delimiter=c.DefaultDelimiter),m.meta.delimiter=n.delimiter),Q(n));return n.preview&&n.header&&_.preview++,i=b,l=new ee(_),m=l.parse(i,L,D),z(),B?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return B},this.pause=function(){B=!0,l.abort(),i=O(n.chunk)?"":i.substring(l.getCharIndex())},this.resume=function(){w.streamer._halted?(B=!1,w.streamer.parseChunk(i,!0)):setTimeout(w.resume,3)},this.aborted=function(){return v},this.abort=function(){v=!0,l.abort(),m.meta.aborted=!0,O(n.complete)&&n.complete(m),i=""},this.guessLineEndings=function(P,_){P=P.substring(0,1048576);var _=new RegExp(fe(_)+"([^]*?)"+fe(_),"gm"),D=(P=P.replace(_,"")).split("\r"),_=P.split(`
`),P=1<_.length&&_[0].length<D[0].length;if(D.length===1||P)return`
`;for(var j=0,M=0;M<D.length;M++)D[M][0]===`
`&&j++;return j>=D.length/2?`\r
`:"\r"}}function fe(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ee(n){var i=(n=n||{}).delimiter,l=n.newline,p=n.comments,h=n.step,C=n.preview,F=n.fastMode,G=null,Y=!1,w=n.quoteChar==null?'"':n.quoteChar,A=w;if(n.escapeChar!==void 0&&(A=n.escapeChar),(typeof i!="string"||-1<c.BAD_DELIMITERS.indexOf(i))&&(i=","),p===i)throw new Error("Comment character same as delimiter");p===!0?p="#":(typeof p!="string"||-1<c.BAD_DELIMITERS.indexOf(p))&&(p=!1),l!==`
`&&l!=="\r"&&l!==`\r
`&&(l=`
`);var y=0,B=!1;this.parse=function(v,S,m){if(typeof v!="string")throw new Error("Input must be a string");var U=v.length,z=i.length,W=l.length,X=p.length,b=O(h),L=[],D=[],_=[],P=y=0;if(!v)return Z();if(F||F!==!1&&v.indexOf(w)===-1){for(var j=v.split(l),M=0;M<j.length;M++){if(_=j[M],y+=_.length,M!==j.length-1)y+=l.length;else if(m)return Z();if(!p||_.substring(0,X)!==p){if(b){if(L=[],le(_.split(i)),ie(),B)return Z()}else le(_.split(i));if(C&&C<=M)return L=L.slice(0,C),Z(!0)}}return Z()}for(var T=v.indexOf(i,y),R=v.indexOf(l,y),ne=new RegExp(fe(A)+fe(w),"g"),E=v.indexOf(w,y);;)if(v[y]===w)for(E=y,y++;;){if((E=v.indexOf(w,E+1))===-1)return m||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:L.length,index:y}),re();if(E===U-1)return re(v.substring(y,E).replace(ne,w));if(w===A&&v[E+1]===A)E++;else if(w===A||E===0||v[E-1]!==A){T!==-1&&T<E+1&&(T=v.indexOf(i,E+1));var I=he((R=R!==-1&&R<E+1?v.indexOf(l,E+1):R)===-1?T:Math.min(T,R));if(v.substr(E+1+I,z)===i){_.push(v.substring(y,E).replace(ne,w)),v[y=E+1+I+z]!==w&&(E=v.indexOf(w,y)),T=v.indexOf(i,y),R=v.indexOf(l,y);break}if(I=he(R),v.substring(E+1+I,E+1+I+W)===l){if(_.push(v.substring(y,E).replace(ne,w)),_e(E+1+I+W),T=v.indexOf(i,y),E=v.indexOf(w,y),b&&(ie(),B))return Z();if(C&&L.length>=C)return Z(!0);break}D.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:L.length,index:y}),E++}}else if(p&&_.length===0&&v.substring(y,y+X)===p){if(R===-1)return Z();y=R+W,R=v.indexOf(l,y),T=v.indexOf(i,y)}else if(T!==-1&&(T<R||R===-1))_.push(v.substring(y,T)),y=T+z,T=v.indexOf(i,y);else{if(R===-1)break;if(_.push(v.substring(y,R)),_e(R+W),b&&(ie(),B))return Z();if(C&&L.length>=C)return Z(!0)}return re();function le(q){L.push(q),P=y}function he(q){var $=0;return $=q!==-1&&(q=v.substring(E+1,q))&&q.trim()===""?q.length:$}function re(q){return m||(q===void 0&&(q=v.substring(y)),_.push(q),y=U,le(_),b&&ie()),Z()}function _e(q){y=q,le(_),_=[],R=v.indexOf(l,y)}function Z(q){if(n.header&&!S&&L.length&&!Y){var $=L[0],se={},we=new Set($);let ke=!1;for(let pe=0;pe<$.length;pe++){let oe=$[pe];if(se[oe=O(n.transformHeader)?n.transformHeader(oe,pe):oe]){let ve,Se=se[oe];for(;ve=oe+"_"+Se,Se++,we.has(ve););we.add(ve),$[pe]=ve,se[oe]++,ke=!0,(G=G===null?{}:G)[ve]=oe}else se[oe]=1,$[pe]=oe;we.add(oe)}ke&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:L,errors:D,meta:{delimiter:i,linebreak:l,aborted:B,truncated:!!q,cursor:P+(S||0),renamedHeaders:G}}}function ie(){h(Z()),L=[],D=[]}},this.abort=function(){B=!0},this.getCharIndex=function(){return y}}function te(n){var i=n.data,l=f[i.workerId],p=!1;if(i.error)l.userError(i.error,i.file);else if(i.results&&i.results.data){var h={abort:function(){p=!0,K(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(O(l.userStep)){for(var C=0;C<i.results.data.length&&(l.userStep({data:i.results.data[C],errors:i.results.errors,meta:i.results.meta},h),!p);C++);delete i.results}else O(l.userChunk)&&(l.userChunk(i.results,h,i.file),delete i.results)}i.finished&&!p&&K(i.workerId,i.results)}function K(n,i){var l=f[n];O(l.userComplete)&&l.userComplete(i),l.terminate(),delete f[n]}function V(){throw new Error("Not implemented.")}function Q(n){if(typeof n!="object"||n===null)return n;var i,l=Array.isArray(n)?[]:{};for(i in n)l[i]=Q(n[i]);return l}function ue(n,i){return function(){n.apply(i,arguments)}}function O(n){return typeof n=="function"}return c.parse=function(n,i){var l=(i=i||{}).dynamicTyping||!1;if(O(l)&&(i.dynamicTypingFunction=l,l={}),i.dynamicTyping=l,i.transform=!!O(i.transform)&&i.transform,!i.worker||!c.WORKERS_SUPPORTED)return l=null,c.NODE_STREAM_INPUT,typeof n=="string"?(n=(p=>p.charCodeAt(0)!==65279?p:p.slice(1))(n),l=new(i.download?k:N)(i)):n.readable===!0&&O(n.read)&&O(n.on)?l=new ce(i):(o.File&&n instanceof File||n instanceof Object)&&(l=new H(i)),l.stream(n);(l=(()=>{var p;return!!c.WORKERS_SUPPORTED&&(p=(()=>{var h=o.URL||o.webkitURL||null,C=r.toString();return c.BLOB_URL||(c.BLOB_URL=h.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(p=new o.Worker(p)).onmessage=te,p.id=g++,f[p.id]=p)})()).userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=O(i.step),i.chunk=O(i.chunk),i.complete=O(i.complete),i.error=O(i.error),delete i.worker,l.postMessage({input:n,config:i,workerId:l.id})},c.unparse=function(n,i){var l=!1,p=!0,h=",",C=`\r
`,F='"',G=F+F,Y=!1,w=null,A=!1,y=((()=>{if(typeof i=="object"){if(typeof i.delimiter!="string"||c.BAD_DELIMITERS.filter(function(S){return i.delimiter.indexOf(S)!==-1}).length||(h=i.delimiter),typeof i.quotes!="boolean"&&typeof i.quotes!="function"&&!Array.isArray(i.quotes)||(l=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(Y=i.skipEmptyLines),typeof i.newline=="string"&&(C=i.newline),typeof i.quoteChar=="string"&&(F=i.quoteChar),typeof i.header=="boolean"&&(p=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");w=i.columns}i.escapeChar!==void 0&&(G=i.escapeChar+F),i.escapeFormulae instanceof RegExp?A=i.escapeFormulae:typeof i.escapeFormulae=="boolean"&&i.escapeFormulae&&(A=/^[=+\-@\t\r].*$/)}})(),new RegExp(fe(F),"g"));if(typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)){if(!n.length||Array.isArray(n[0]))return B(null,n,Y);if(typeof n[0]=="object")return B(w||Object.keys(n[0]),n,Y)}else if(typeof n=="object")return typeof n.data=="string"&&(n.data=JSON.parse(n.data)),Array.isArray(n.data)&&(n.fields||(n.fields=n.meta&&n.meta.fields||w),n.fields||(n.fields=Array.isArray(n.data[0])?n.fields:typeof n.data[0]=="object"?Object.keys(n.data[0]):[]),Array.isArray(n.data[0])||typeof n.data[0]=="object"||(n.data=[n.data])),B(n.fields||[],n.data||[],Y);throw new Error("Unable to serialize unrecognized input");function B(S,m,U){var z="",W=(typeof S=="string"&&(S=JSON.parse(S)),typeof m=="string"&&(m=JSON.parse(m)),Array.isArray(S)&&0<S.length),X=!Array.isArray(m[0]);if(W&&p){for(var b=0;b<S.length;b++)0<b&&(z+=h),z+=v(S[b],b);0<m.length&&(z+=C)}for(var L=0;L<m.length;L++){var D=(W?S:m[L]).length,_=!1,P=W?Object.keys(m[L]).length===0:m[L].length===0;if(U&&!W&&(_=U==="greedy"?m[L].join("").trim()==="":m[L].length===1&&m[L][0].length===0),U==="greedy"&&W){for(var j=[],M=0;M<D;M++){var T=X?S[M]:M;j.push(m[L][T])}_=j.join("").trim()===""}if(!_){for(var R=0;R<D;R++){0<R&&!P&&(z+=h);var ne=W&&X?S[R]:R;z+=v(m[L][ne],R)}L<m.length-1&&(!U||0<D&&!P)&&(z+=C)}}return z}function v(S,m){var U,z;return S==null?"":S.constructor===Date?JSON.stringify(S).slice(1,25):(z=!1,A&&typeof S=="string"&&A.test(S)&&(S="'"+S,z=!0),U=S.toString().replace(y,G),(z=z||l===!0||typeof l=="function"&&l(S,m)||Array.isArray(l)&&l[m]||((W,X)=>{for(var b=0;b<X.length;b++)if(-1<W.indexOf(X[b]))return!0;return!1})(U,c.BAD_DELIMITERS)||-1<U.indexOf(h)||U.charAt(0)===" "||U.charAt(U.length-1)===" ")?F+U+F:U)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!o.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=ee,c.ParserHandle=ye,c.NetworkStreamer=k,c.FileStreamer=H,c.StringStreamer=N,c.ReadableStreamStreamer=ce,o.jQuery&&((a=o.jQuery).fn.parse=function(n){var i=n.config||{},l=[];return this.each(function(C){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&o.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)l.push({file:this.files[F],inputElem:this,instanceConfig:a.extend({},i)})}),p(),this;function p(){if(l.length===0)O(n.complete)&&n.complete();else{var C,F,G,Y,w=l[0];if(O(n.before)){var A=n.before(w.file,w.inputElem);if(typeof A=="object"){if(A.action==="abort")return C="AbortError",F=w.file,G=w.inputElem,Y=A.reason,void(O(n.error)&&n.error({name:C},F,G,Y));if(A.action==="skip")return void h();typeof A.config=="object"&&(w.instanceConfig=a.extend(w.instanceConfig,A.config))}else if(A==="skip")return void h()}var y=w.instanceConfig.complete;w.instanceConfig.complete=function(B){O(y)&&y(B,w.file,w.inputElem),h()},c.parse(w.file,w.instanceConfig)}}function h(){l.splice(0,1),p()}}),u&&(o.onmessage=function(n){n=n.data,c.WORKER_ID===void 0&&n&&(c.WORKER_ID=n.workerId),typeof n.input=="string"?o.postMessage({workerId:c.WORKER_ID,results:c.parse(n.input,n.config),finished:!0}):(o.File&&n.input instanceof File||n.input instanceof Object)&&(n=c.parse(n.input,n.config))&&o.postMessage({workerId:c.WORKER_ID,results:n,finished:!0})}),(k.prototype=Object.create(x.prototype)).constructor=k,(H.prototype=Object.create(x.prototype)).constructor=H,(N.prototype=Object.create(N.prototype)).constructor=N,(ce.prototype=Object.create(x.prototype)).constructor=ce,c})}(Ee)),Ee.exports}var ct=lt();const ft=ze(ct),vt=async({url:e,setIsLoading:t,setError:r,setHeaders:o,setCsvData:a})=>{if(e){t(!0),r(null);try{const s=await fetch(e);if(!s.ok)throw new Error(`Failed to fetch CSV: ${s.status}`);const u=await s.text();ft.parse(u,{complete:f=>{const g=f.data;g.length>0&&(o(g[0]),a(g)),t(!1)},error:f=>{r(`Error parsing CSV: ${f.message}`),t(!1)}})}catch(s){r(`Error fetching CSV: ${s instanceof Error?s.message:String(s)}`),t(!1)}}};export{yt as L,ht as M,gt as N,pt as P,mt as S,_t as a,vt as f};
